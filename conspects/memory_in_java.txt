JVM и память 

Что входит в JVM 
-garbage collector
-ClassLoader
-интерпретатор
-JIT-компилятор
-компоненты управления потоками

Области памяти:
1-Стек.
Один поток - один стек, хратит ссылки и указатели на объекты, а также примитвные типы данных
Xss - флаг для задачи размера стековой памяти
2-Куча
Самая крупная область памяти. Хранит объекты и динамические данные
Xms - начальный размер кучи
Xmx - максимальный размер кучи
Куча не передается машине целиком, часть резервируется в качестве виртуального пространства, за счет которого куча может расти в будущем.
Делится на old и young generation. Young: Eden, S1, S2.
3-Метапространство (Permgen до Java 8)
Часть нативной памяти, не имеет верхней границы. Хранит метаданные и статические переменные.
4-Кеш кода
Здесь JIT Компилятор хранит скомпилированные блоки кода к которым приходится часто общаться.

Сборка мусора
Мусор - объект на которого больше нет ссылки, то есть они больше не используются приложением.
Mark&Sweep - алгоритм сборки мусора. Состоит из трех этапов:
1. Mark (Stop the world) - GC сканирует все объекты и помечает живые. На этом шаге выполнение программы приостанавливается.
2. Sweep - Не отмеченные объекты удаляются
3. Compact (уплотнение) - Объекты, пережившие очистку, перемещаются в единый неприрывный блок памяти

Classloader
-загружает в JVM необходимые class-файлы. 
Загрузка классов — это поиск и загрузка типов (классов и интерфейсов) динамически во время выполнения программы. Данные о типах находятся в бинарных class-файлах.
Этапы загрузки классов: 
-загрузка - поиск и импорт бинарных данных для типа по его имени, создание класса или интерфейса из этого бинарного представления
-линковка: -верификация, подготовка, разрешение
-инициализация -  вызов Java-кода, который инициализирует переменные класса их правильными начальными значениями.

ClassLoader’ы в Java имеют иерархическую структуру. Это означает, что loader-наследник "видит" все "свои" классы плюс классы loader’а-родителя. В то время, когда JVM начинает исполнять стартовый метод main, уже существует три class loader’a:
Bootstrap ClassLoader – вершина иерархии ClassLoader’ов. Загружает классы ядра Core Java.
Extension ClassLoader – загружает библиотеки из lib/ext. Наследуется от Bootstrap.
System ClassLoader – загружает классы из classpath. Наследуется от Extension.
